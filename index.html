<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <title>ARGUS</title>
    <script type="module" crossorigin src="/assets/index-DcUkaqq8.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-D86_eWgk.css">
  </head>
  <body>
    <div id="root"></div>
    <script>
      // Отключить кнопку "Войти в систему" и бургер через capture phase
      (function() {
        let loginButton = null;
        let burgerElement = null;

        // Найти элементы
        function findElements() {
          // Кнопка входа
          if (!loginButton) {
            const buttons = Array.from(document.querySelectorAll('button'));
            loginButton = buttons.find(btn =>
              btn.textContent.trim() === 'Войти в систему' ||
              btn.textContent.trim() === 'Открыть Гант АСУП'
            );
            if (loginButton) {
              loginButton.style.opacity = '0.6';
              loginButton.style.cursor = 'default';
              console.log('Login button found');
            }
          }

          // Бургер (div с 3 полосками)
          if (!burgerElement) {
            const allDivs = Array.from(document.querySelectorAll('div'));
            burgerElement = allDivs.find(div => {
              const children = Array.from(div.children);
              return children.length === 3 &&
                children.every(child =>
                  child.tagName === 'DIV' &&
                  (child.style.width || child.style.height || child.style.background)
                );
            });
            if (burgerElement) {
              burgerElement.style.opacity = '0.5';
              burgerElement.style.cursor = 'default';
              console.log('Burger found');
            }
          }
        }

        // Блокировка событий для кнопки входа и бургера
        function blockEvent(e) {
          const target = e.target;

          // Блокируем клики на кнопку входа
          if (loginButton && (target === loginButton || loginButton.contains(target))) {
            e.stopImmediatePropagation();
            e.stopPropagation();
            e.preventDefault();
            console.log('Login button click blocked');
            return;
          }

          // Блокируем клики на бургер
          if (burgerElement && (target === burgerElement || burgerElement.contains(target))) {
            e.stopImmediatePropagation();
            e.stopPropagation();
            e.preventDefault();
            console.log('Burger click blocked');
            return;
          }
        }

        // Установка обработчиков на фазе capture (до React!)
        window.addEventListener('click', blockEvent, true);
        window.addEventListener('mousedown', blockEvent, true);
        window.addEventListener('pointerdown', blockEvent, true);
        window.addEventListener('touchstart', blockEvent, { capture: true, passive: false });

        // Поиск элементов с интервалом
        setInterval(findElements, 500);

        // И при изменениях DOM
        const observer = new MutationObserver(findElements);
        observer.observe(document.body, { childList: true, subtree: true });
      })();
    </script>
  </body>
</html>
