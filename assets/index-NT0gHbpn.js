import{r as d,w as oe,u as V,x as pe,z as ve,h as t,q as ne,y as A,A as Ee,D as xe,E as ye,F,G as Ce,I as Me,e as $e}from"./index-2RzRtxgr.js";const re=({id:e,x:o,y:n,width:g,height:w,style:c,color:p,strokeColor:v,strokeWidth:E,className:x,borderRadius:s,shapeRendering:u,onClick:l,selected:r})=>{const{background:m,backgroundColor:a}=c||{},y=p||m||a;return t.createElement("rect",{className:A(["react-flow__minimap-node",{selected:r},x]),x:o,y:n,rx:s,ry:s,width:g,height:w,fill:y,stroke:v,strokeWidth:E,shapeRendering:u,onClick:l?i=>l(i,e):void 0})};re.displayName="MiniMapNode";var ze=d.memo(re);const _e=e=>e.nodeOrigin,be=e=>e.getNodes().filter(o=>!o.hidden&&o.width&&o.height),U=e=>e instanceof Function?e:()=>e;function ke({nodeStrokeColor:e="transparent",nodeColor:o="#e2e2e2",nodeClassName:n="",nodeBorderRadius:g=5,nodeStrokeWidth:w=2,nodeComponent:c=ze,onClick:p}){const v=V(be,F),E=V(_e),x=U(o),s=U(e),u=U(n),l=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return t.createElement(t.Fragment,null,v.map(r=>{const{x:m,y:a}=ye(r,E).positionAbsolute;return t.createElement(c,{key:r.id,x:m,y:a,width:r.width,height:r.height,style:r.style,selected:r.selected,className:u(r),color:x(r),borderRadius:g,strokeColor:s(r),strokeWidth:w,shapeRendering:l,onClick:p,id:r.id})}))}var Ne=d.memo(ke);const He=200,Se=150,Be=e=>{const o=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:o.length>0?Ce(Me(o,e.nodeOrigin),n):n,rfId:e.rfId}},Ie="react-flow__minimap-desc";function se({style:e,className:o,nodeStrokeColor:n="transparent",nodeColor:g="#e2e2e2",nodeClassName:w="",nodeBorderRadius:c=5,nodeStrokeWidth:p=2,nodeComponent:v,maskColor:E="rgb(240, 240, 240, 0.6)",maskStrokeColor:x="none",maskStrokeWidth:s=1,position:u="bottom-right",onClick:l,onNodeClick:r,pannable:m=!1,zoomable:a=!1,ariaLabel:y="React Flow mini map",inversePan:i=!1,zoomStep:f=10,offsetScale:_=5}){const M=oe(),B=d.useRef(null),{boundingRect:$,viewBB:b,rfId:W}=V(Be,F),Z=e?.width??He,O=e?.height??Se,le=$.width/Z,ie=$.height/O,D=Math.max(le,ie),G=D*Z,X=D*O,C=_*D,q=$.x-(G-$.width)/2-C,K=$.y-(X-$.height)/2-C,L=G+C*2,j=X+C*2,J=`${Ie}-${W}`,Q=d.useRef(0);Q.current=D,d.useEffect(()=>{if(B.current){const k=pe(B.current),N=z=>{const{transform:H,d3Selection:I,d3Zoom:S}=M.getState();if(z.sourceEvent.type!=="wheel"||!I||!S)return;const T=-z.sourceEvent.deltaY*(z.sourceEvent.deltaMode===1?.05:z.sourceEvent.deltaMode?1:.002)*f,Y=H[2]*Math.pow(2,T);S.scaleTo(I,Y)},P=z=>{const{transform:H,d3Selection:I,d3Zoom:S,translateExtent:T,width:Y,height:ue}=M.getState();if(z.sourceEvent.type!=="mousemove"||!I||!S)return;const ee=Q.current*Math.max(1,H[2])*(i?-1:1),te={x:H[0]-z.sourceEvent.movementX*ee,y:H[1]-z.sourceEvent.movementY*ee},fe=[[0,0],[Y,ue]],ge=Ee.translate(te.x,te.y).scale(H[2]),we=S.constrain()(ge,fe,T);S.transform(I,we)},he=ve().on("zoom",m?P:null).on("zoom.wheel",a?N:null);return k.call(he),()=>{k.on("zoom",null)}}},[m,a,i,f]);const me=l?k=>{const N=xe(k);l(k,{x:N[0],y:N[1]})}:void 0,de=r?(k,N)=>{const P=M.getState().nodeInternals.get(N);r(k,P)}:void 0;return t.createElement(ne,{position:u,style:e,className:A(["react-flow__minimap",o]),"data-testid":"rf__minimap"},t.createElement("svg",{width:Z,height:O,viewBox:`${q} ${K} ${L} ${j}`,role:"img","aria-labelledby":J,ref:B,onClick:me},y&&t.createElement("title",{id:J},y),t.createElement(Ne,{onClick:de,nodeColor:g,nodeStrokeColor:n,nodeBorderRadius:c,nodeClassName:w,nodeStrokeWidth:p,nodeComponent:v}),t.createElement("path",{className:"react-flow__minimap-mask",d:`M${q-C},${K-C}h${L+C*2}v${j+C*2}h${-L-C*2}z
        M${b.x},${b.y}h${b.width}v${b.height}h${-b.width}z`,fill:E,fillRule:"evenodd",stroke:x,strokeWidth:s,pointerEvents:"none"})))}se.displayName="MiniMap";var Ue=d.memo(se);function Re(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},t.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Ve(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},t.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Ae(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},t.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function De(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Fe(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const R=({children:e,className:o,...n})=>t.createElement("button",{type:"button",className:A(["react-flow__controls-button",o]),...n},e);R.displayName="ControlButton";const We=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),ae=({style:e,showZoom:o=!0,showFitView:n=!0,showInteractive:g=!0,fitViewOptions:w,onZoomIn:c,onZoomOut:p,onFitView:v,onInteractiveChange:E,className:x,children:s,position:u="bottom-left"})=>{const l=oe(),[r,m]=d.useState(!1),{isInteractive:a,minZoomReached:y,maxZoomReached:i}=V(We,F),{zoomIn:f,zoomOut:_,fitView:M}=$e();if(d.useEffect(()=>{m(!0)},[]),!r)return null;const B=()=>{f(),c?.()},$=()=>{_(),p?.()},b=()=>{M(w),v?.()},W=()=>{l.setState({nodesDraggable:!a,nodesConnectable:!a,elementsSelectable:!a}),E?.(!a)};return t.createElement(ne,{className:A(["react-flow__controls",x]),position:u,style:e,"data-testid":"rf__controls"},o&&t.createElement(t.Fragment,null,t.createElement(R,{onClick:B,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:i},t.createElement(Re,null)),t.createElement(R,{onClick:$,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},t.createElement(Ve,null))),n&&t.createElement(R,{className:"react-flow__controls-fitview",onClick:b,title:"fit view","aria-label":"fit view"},t.createElement(Ae,null)),g&&t.createElement(R,{className:"react-flow__controls-interactive",onClick:W,title:"toggle interactivity","aria-label":"toggle interactivity"},a?t.createElement(Fe,null):t.createElement(De,null)),s)};ae.displayName="Controls";var Ge=d.memo(ae),h;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(h||(h={}));function Ze({color:e,dimensions:o,lineWidth:n}){return t.createElement("path",{stroke:e,strokeWidth:n,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function Oe({color:e,radius:o}){return t.createElement("circle",{cx:o,cy:o,r:o,fill:e})}const Le={[h.Dots]:"#91919a",[h.Lines]:"#eee",[h.Cross]:"#e2e2e2"},Pe={[h.Dots]:1,[h.Lines]:1,[h.Cross]:6},Te=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ce({id:e,variant:o=h.Dots,gap:n=20,size:g,lineWidth:w=1,offset:c=2,color:p,style:v,className:E}){const x=d.useRef(null),{transform:s,patternId:u}=V(Te,F),l=p||Le[o],r=g||Pe[o],m=o===h.Dots,a=o===h.Cross,y=Array.isArray(n)?n:[n,n],i=[y[0]*s[2]||1,y[1]*s[2]||1],f=r*s[2],_=a?[f,f]:i,M=m?[f/c,f/c]:[_[0]/c,_[1]/c];return t.createElement("svg",{className:A(["react-flow__background",E]),style:{...v,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:x,"data-testid":"rf__background"},t.createElement("pattern",{id:u+e,x:s[0]%i[0],y:s[1]%i[1],width:i[0],height:i[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`},m?t.createElement(Oe,{color:l,radius:f/c}):t.createElement(Ze,{dimensions:_,color:l,lineWidth:w})),t.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${u+e})`}))}ce.displayName="Background";var Xe=d.memo(ce);export{Xe as B,Ge as C,Ue as M};
